#!/bin/bash

export POSIXLY_CORRECT=yes

print_help() 
{
    echo "mole -h"
    echo "mole [-g GROUP] FILE"
    echo "mole [-m] [FILTERS] [DIRECTORY]"
    echo "mole list [FILTERS] [DIRECTORY]"   
}

group()
{
    echo $FILE $GROUP >> $MOLE_RC
}

FILE=""
GROUP=""
FILTER=""

# check if utillity realpath is available
if ! [ -x "$(command -v realpath)" ]
then
    echo "<realpath> could not be found"
    exit 1
fi

# look for MOLE_RC, export MOLE_RC=$HOME/.config/molerc
PATH=""
if [ -e $MOLE_RC ]; then
    echo $MOLE_RC 
else 
    echo $MOLE_RC
    exit 1
fi

# look for EDITOR, VISUAL, vi
EDITOR=""
if [ -e "EDITOR" ]; then 
    EDITOR="EDITOR"    
elif [ -e "VISUAL" ]; then
    EDITOR="VISUAL"
else
    EDITOR="vi"
fi

while [ "$#" -gt 0 ]
do
    case "$1" in
        -h)
            print_help
            exit 0
            ;;
        -g)
            FILTER=$1
            GROUP=$2
		    FILE=$3
            shift
		    shift
            shift
            group
            ;;
    esac
done
